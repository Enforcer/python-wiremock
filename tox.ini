[tox]
envlist = py{37}

[testenv]
whitelist_externals =
    rm
deps =
    nose
    coverage
    setuptools>=45.2.0
    six
    mock
    responses
    requests

commands =
    {envpython} setup.py -q install
    nosetests -vv --attr=unit  --with-coverage --cover-erase --cover-package=wiremock --cover-html --cover-xml --cover-min-percentage=85 --cover-html-dir={toxinidir}/coverage/ --cover-xml-file={toxinidir}/coverage/coverage.xml
    rm -Rf build || true

[testenv:py27-dev]
envdir = {toxinidir}/env
usedevelop = True
